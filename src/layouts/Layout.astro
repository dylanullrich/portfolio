---
import { Icon } from 'astro-icon/components';
export interface Props {
  title: string;
}

const { title } = Astro.props;

let scriptSource: string | null = '/stats/js/script.outbound-links.js';
let apiUrl: string | null = '/stats/api/event';
let domain: string | null = 'dyllanullrich.com';

if (Astro.url.hostname === 'localhost') {
  scriptSource = null;
  apiUrl = null;
  domain = null;
}

const navigation = {
  internal: [
    {
      icon: 'heroicons:folder-open',
      name: 'Projects',
      href: '/projects',
    },
    {
      icon: 'heroicons:chat-bubble-bottom-center-text',
      name: 'Blog',
      href: '/blog',
    },
  ],
  external: [
    {
      icon: 'line-md:github',
      name: '',
      href: 'https://github.com/dylanullrich',
    },
    {
      icon: 'line-md:linkedin',
      name: '',
      href: 'https://www.linkedin.com/in/dsullrich',
    },
    /* {
      icon: 'simple-icons:matrix',
      name: '',
      href: '',
    }, */
    {
      icon: 'line-md:email',
      name: '',
      href: 'mailto:dev@dylan.cat',
    },
  ],
};
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <script defer src={scriptSource} data-api={apiUrl} data-domain={domain}
    ></script>
  </head>

  <body class="bg-slate-950 flex flex-col h-screen">
    <header class="bg-slate-900 h-16">
      <nav class="mx-auto px-4 max-w-[1920px]" aria-label="Top">
        <div class="flex w-full items-center justify-between py-1.5">
          <div class="flex items-center">
            <a href="/">
              <img
                src="/images/du-logo.svg"
                width="50"
                alt="Get (Dylan) Ullrich or Die Trying Logo"
              />
            </a>
          </div>
          <div class="flex space-x-10">
            <div class="flex space-x-5">
              {
                navigation.internal.map((link) => (
                  <a
                    href={link.href}
                    title={link.name || link.href}
                    target={link.href.startsWith('h') ? '_blank' : '_self'}
                    class="flex cursor-pointer items-center text-lg font-medium text-gray-400 hover:text-gray-100"
                  >
                    {link.icon ? (
                      <Icon name={link.icon} class="mr-2" size={15} />
                    ) : (
                      ''
                    )}
                    <p>{link.name}</p>
                  </a>
                ))
              }
            </div>
            <div class="flex space-x-5">
              {
                navigation.external.map((link) => (
                  <a
                    href={link.href}
                    title={link.name || link.href}
                    target={link.href.startsWith('h') ? '_blank' : '_self'}
                    class="flex cursor-pointer items-center text-lg font-medium text-gray-400 hover:text-gray-100"
                  >
                    {link.icon ? (
                      <Icon name={link.icon} class="mr-2" size={28} />
                    ) : (
                      ''
                    )}
                    <p>{link.name}</p>
                  </a>
                ))
              }
            </div>
          </div>
        </div>
      </nav>
    </header>
    <main class="flex-1">
      <slot />
    </main>
    <footer class="py-5">
      <p class="text-center text-base text-gray-400">
        &copy; 2023 Get Ullrich or Die Trying
      </p>
    </footer>
  </body>
</html>
